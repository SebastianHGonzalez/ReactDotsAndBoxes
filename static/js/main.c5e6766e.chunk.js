(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,r){e.exports=r(43)},43:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(15),o=r.n(a),l=r(12),u=r(7),i=r(26),s=r(30),d=r(8),f=r.n(d),y=r(4),b=r(5),v="transparent";function h(e,t,r,n){return"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(n,")")}var p=[h.bind(void 0,255,0,0),h.bind(void 0,0,0,255),h.bind(void 0,0,255,0),h.bind(void 0,255,165,0),h.bind(void 0,128,0,128)];function E(e){return p[e%p.length](.9)}function m(e){return p[e%p.length](.1)}function O(e,t){return"".concat(e,"-").concat(t)}function g(e,t,r,n){return{get id(){return O(t,r)},type:e,x:t,y:r,color:n}}function S(e,t){return[{x:e,y:t+1},{x:e,y:t-1},{x:e+1,y:t},{x:e-1,y:t}]}var w=-1;function x(e){return w}var j=r(27),T=r(14),I={COLOR_CELL:"cells/COLOR_CELL"},C={colorCell:function(e,t,r){return{type:I.COLOR_CELL,payload:g("cell",e,t,r)}}},k={cellsSelector:function(e){return e.cells.cells},coloredSelector:function(e){return e.cells.colored}},A={cells:{},colored:{}};function R(e,t){var r={},n=!0,c=!1,a=void 0;try{for(var o,l=Array(e).keys()[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var u=o.value,i=!0,s=!1,d=void 0;try{for(var f,y=Array(t).keys()[Symbol.iterator]();!(i=(f=y.next()).done);i=!0){var b=g("cell",2*f.value+1,2*u+1,v);r[b.id]=b}}catch(h){s=!0,d=h}finally{try{i||null==y.return||y.return()}finally{if(s)throw d}}}}catch(h){c=!0,a=h}finally{try{n||null==l.return||l.return()}finally{if(c)throw a}}return r}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.INIT_BOARD:return Object(y.a)({},A,{cells:R(t.height,t.width)});case I.COLOR_CELL:return Object(y.a)({},e,{colored:Object(y.a)({},e.colored,Object(T.a)({},t.payload.color,(e.colored[t.payload.color]||[]).concat(t.payload.id))),cells:Object(y.a)({},e.cells,Object(T.a)({},t.payload.id,t.payload))});default:return e}},L={COLOR_EDGE:"edges/COLOR_EDGE",EDGE_SELECTED:"edges/EDGE_SELECTED"},N={colorEdge:function(e,t,r){return{type:L.COLOR_EDGE,payload:g("edge",e,t,r)}},edgeSelected:function(e,t){return{type:L.EDGE_SELECTED,x:e,y:t}}},P={edgesSelector:function(e){return e.edges}},D={};function M(e,t){return(e+t)%2}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.INIT_BOARD:return function(e,t){var r={},n=2*t+1,c=2*e+1,a=!0,o=!1,l=void 0;try{for(var u,i=Array(c).keys()[Symbol.iterator]();!(a=(u=i.next()).done);a=!0){var s=u.value,d=!0,f=!1,y=void 0;try{for(var b,h=Array(n).keys()[Symbol.iterator]();!(d=(b=h.next()).done);d=!0){var p=b.value;if(M(p,s)){var E=g("edge",p,s,v);r[E.id]=E}}}catch(m){f=!0,y=m}finally{try{d||null==h.return||h.return()}finally{if(f)throw y}}}}catch(m){o=!0,l=m}finally{try{a||null==i.return||i.return()}finally{if(o)throw l}}return r}(t.height,t.width);case L.COLOR_EDGE:return Object(y.a)({},e,Object(T.a)({},t.payload.id,t.payload));default:return e}},W=Object(y.a)({},I,L,{INIT_BOARD:"board/INIT_BOARD"}),G=Object(y.a)({},C,N,{initializeBoard:function(e,t){return{type:W.INIT_BOARD,height:e,width:t}}}),z=Object(y.a)({},k,P,{boardElementsSelector:Object(j.a)(k.cellsSelector,P.edgesSelector,k.coloredSelector,function(e,t,r){return{cells:e,edges:t,colored:r}})}),H=Object(u.combineReducers)({cells:_,edges:B}),X={current:0,total:0},Y={INITIALIZE_PLAYERS:"turn/INITIALIZE_PLAYERS",NEXT:"turn/NEXT"},Z={initializePlayers:function(e){return{type:Y.INITIALIZE_PLAYERS,payload:e}},nextTurn:function(){return{type:Y.NEXT}}};var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.INITIALIZE_PLAYERS:return Object(y.a)({},X,{total:t.payload});case Y.NEXT:return Object(y.a)({},e,{current:(e.current+1)%e.total});default:return e}},$=f.a.mark(te),q=f.a.mark(ne),F=f.a.mark(ce),K=Object(y.a)({},W,Y,{START_MATCH:"match/START_MATCH",SET_WINNER:"match/SET_WINNER"}),Q=Object(y.a)({},G,Z,{setWinner:function(e){return{type:K.SET_WINNER,payload:e}},startMatch:function(e,t,r){return{type:K.START_MATCH,playerAmount:e,height:t,width:r}}}),U={cellsSelector:function(e){return z.cellsSelector(e.match.board)},edgesSelector:function(e){return z.edgesSelector(e.match.board)},boardElementsSelector:function(e){return z.boardElementsSelector(e.board)},winnerSelector:function(e){return e.match.winner},currentPlayerSelector:function(e){return e.turn.current},totalPlayersSelector:function(e){return e.turn.total}};var V=Object(u.combineReducers)({board:H,turn:J,winner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.INIT_BOARD:return w;case K.SET_WINNER:return t.payload;default:return e}}}),ee=Object(b.e)(K.START_MATCH,te);function te(e){var t,r,n,c,a,o;return f.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.playerAmount,r=e.width,n=e.height,l.next=3,Object(b.b)(Q.initializeBoard(n,r));case 3:return l.next=5,Object(b.b)(Q.initializePlayers(t));case 5:return l.next=7,Object(b.c)(U.winnerSelector);case 7:if(l.t0=l.sent,l.t1=w,l.t0!==l.t1){l.next=23;break}return l.next=12,Object(b.d)(K.EDGE_SELECTED);case 12:return c=l.sent,a=c.x,o=c.y,l.next=17,Object(b.b)(Q.colorEdge(a,o,"black"));case 17:return l.next=19,ne({x:a,y:o});case 19:return l.next=21,ce();case 21:l.next=5;break;case 23:return l.abrupt("return");case 24:case"end":return l.stop()}},$)}function re(e,t){return e.map(function(e){return O(e.x,e.y)}).map(function(e){return t[e]}).filter(function(e){return e})}function ne(e){var t,r,n,c,a,o,l,u,i,s,d,y,h,p,m;return f.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.x,r=e.y,f.next=3,Object(b.c)(U.cellsSelector);case 3:return n=f.sent,c=S(t,r),a=re(c,n),o=a.filter(function(e){return e.color===v}),f.next=9,Object(b.c)(U.edgesSelector);case 9:return l=f.sent,u=o.filter(function(e){var t=re(S(e.x,e.y),l);return t.filter(function(e){return e.color!==v}).length===t.length}),f.next=13,Object(b.c)(oe.currentPlayerSelector);case 13:i=f.sent,s=!0,d=!1,y=void 0,f.prev=17,h=u[Symbol.iterator]();case 19:if(s=(p=h.next()).done){f.next=26;break}return m=p.value,f.next=23,Object(b.b)(Q.colorCell(m.x,m.y,E(i)));case 23:s=!0,f.next=19;break;case 26:f.next=32;break;case 28:f.prev=28,f.t0=f.catch(17),d=!0,y=f.t0;case 32:f.prev=32,f.prev=33,s||null==h.return||h.return();case 35:if(f.prev=35,!d){f.next=38;break}throw y;case 38:return f.finish(35);case 39:return f.finish(32);case 40:if(u.length){f.next=43;break}return f.next=43,Object(b.b)(Q.nextTurn());case 43:return f.abrupt("return");case 44:case"end":return f.stop()}},q,null,[[17,28,32,40],[33,,35,39]])}function ce(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b.b,e.t1=Q,e.t2=x,e.next=5,Object(b.c)(U.cellsSelector);case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.setWinner.call(e.t1,e.t4),e.next=10,(0,e.t0)(e.t5);case 10:case"end":return e.stop()}},F)}var ae=Object(y.a)({},Q),oe={currentPlayerSelector:function(e){return U.currentPlayerSelector(e.match)},totalPlayersSelector:function(e){return U.totalPlayersSelector(e.match)},boardElementsSelector:function(e){return U.boardElementsSelector(e.match)}},le=f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)([ee]);case 2:case"end":return e.stop()}},e)}),ue=Object(u.combineReducers)({match:V}),ie=Object(s.a)(),se=[ie],de=Object(u.createStore)(ue,Object(i.composeWithDevTools)(u.applyMiddleware.apply(void 0,se)));ie.run(le);var fe=de,ye=r(10),be=r(11);function ve(){var e=Object(ye.a)(["\n  width: 100%;\n  height: 100%;\n  border: 0.1rem dotted;\n"]);return ve=function(){return e},e}var he=be.a.div.attrs(function(e){return{style:{gridColumnStart:e.column+1,gridRowStart:e.row+1,backgroundColor:e.color,borderColor:"cell"===e.type?"red":"gray"}}})(ve());function pe(){var e=Object(ye.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns:\n    repeat(",", 1fr 2fr)\n    1fr;\n  grid-template-rows:\n    repeat(",", 1fr 2fr)\n    1fr;\n  place-items: center center;\n"]);return pe=function(){return e},e}var Ee=be.a.div(pe(),function(e){var t=e.columns;return Math.floor(t/2)},function(e){var t=e.rows;return Math.floor(t/2)});var me=Object(l.b)(function(e){return{boardElements:oe.boardElementsSelector(e)}},function(e){return{startMatch:function(){return e(ae.startMatch.apply(ae,arguments))},edgeSelected:function(){return e(ae.edgeSelected.apply(ae,arguments))}}})(function(e){var t=e.players,r=e.height,a=e.width,o=e.startMatch,l=e.boardElements,u=e.edgeSelected;Object(n.useEffect)(function(){o(t,r,a)},[o,t,a,r]);var i=Object.values(l.cells),s=Object.values(l.edges);return c.a.createElement(Ee,{rows:2*r+1,columns:2*a+1},i.map(function(e){var t=e.type,r=e.x,n=e.y,a=e.color;return c.a.createElement(he,{key:"".concat(r,"-").concat(n),color:a,type:t,column:r,row:n})}),s.map(function(e){var t=e.type,r=e.x,n=e.y,a=e.color;return c.a.createElement(he,{key:"".concat(r,"-").concat(n),color:a,type:t,column:r,row:n,onClick:a===v?function(){return u(r,n)}:void 0})}))});function Oe(){var e=Object(ye.a)(["\n  width: 100%;\n  height: 100%;\n  transition: background-color 300ms cubic-bezier(0, 0.5, 0.5, 1);\n"]);return Oe=function(){return e},e}var ge=be.a.div.attrs(function(e){return{style:{backgroundColor:e.playerColor}}})(Oe()),Se=Object(l.b)(function(e){return{playerColor:m(oe.currentPlayerSelector(e))}})(ge);function we(){var e=Object(ye.a)(["\n  grid-auto-flow: column;\n  display: grid;\n"]);return we=function(){return e},e}var xe=be.a.div(we()),je=Object(l.b)(function(e){return{currentPlayer:oe.currentPlayerSelector(e),totalPlayers:oe.totalPlayersSelector(e),coloredCells:oe.boardElementsSelector(e).colored}})(function(e){var t=e.currentPlayer,r=e.totalPlayers,n=e.coloredCells;return c.a.createElement(xe,null,Array.from(Array(r).keys()).map(function(e){return c.a.createElement("div",{key:e,style:{border:e===t?"black 0.1rem dotted":"",backgroundColor:m(e)}},function(e,t){return(t[E(e)]||[]).length}(e,n))}))});var Te=function(e){return c.a.createElement("div",{style:{margin:"auto",width:"80vw",height:"80vh"}},c.a.createElement(Se,null,c.a.createElement(je,null),c.a.createElement(me,{players:4,height:10,width:10})))};var Ie=function(){return c.a.createElement(Te,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(l.a,{store:fe},c.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.c5e6766e.chunk.js.map