(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,r){e.exports=r(42)},42:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(14),o=r.n(a),u=r(12),l=r(6),i=r(25),s=r(29),d=r(8),f=r.n(d),y=r(7),b=r(4),h="transparent";function v(e,t,r,n){return"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(n,")")}var E=[v.bind(void 0,255,0,0),v.bind(void 0,0,0,255),v.bind(void 0,0,255,0),v.bind(void 0,255,165,0),v.bind(void 0,128,0,128)];function p(e){return E[e%E.length](.9)}function m(e){return E[e%E.length](.1)}function g(e,t,r,n){return{type:e,x:t,y:r,color:n}}function O(e,t){return[{x:e,y:t+1},{x:e,y:t-1},{x:e+1,y:t},{x:e-1,y:t}]}var S=-1;function x(e){return S}var w=r(26),T={COLOR_CELL:"cells/COLOR_CELL"},j={colorCell:function(e,t,r){return{type:T.COLOR_CELL,x:e,y:t,color:r}}},I={cellsSelector:function(e){return e.cells}},A=[];var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.INIT_BOARD:return function(e,t){var r=[],n=!0,c=!1,a=void 0;try{for(var o,u=Array(e).keys()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value,i=!0,s=!1,d=void 0;try{for(var f,y=Array(t).keys()[Symbol.iterator]();!(i=(f=y.next()).done);i=!0){var b=f.value;r=r.concat(g("cell",2*b+1,2*l+1,h))}}catch(v){s=!0,d=v}finally{try{i||null==y.return||y.return()}finally{if(s)throw d}}}}catch(v){c=!0,a=v}finally{try{n||null==u.return||u.return()}finally{if(c)throw a}}return r}(t.height,t.width);case T.COLOR_CELL:return e.filter(function(e){return e.x!==t.x||e.y!==t.y}).concat(g("cell",t.x,t.y,t.color));default:return e}},R={COLOR_EDGE:"edges/COLOR_EDGE",EDGE_SELECTED:"edges/EDGE_SELECTED"},_={colorEdge:function(e,t,r){return{type:R.COLOR_EDGE,x:e,y:t,color:r}},edgeSelected:function(e,t){return{type:R.EDGE_SELECTED,x:e,y:t}}},k={edgesSelector:function(e){return e.edges}},L=[];function N(e,t){return(e+t)%2}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.INIT_BOARD:return function(e,t){var r=[],n=2*t+1,c=2*e+1,a=!0,o=!1,u=void 0;try{for(var l,i=Array(c).keys()[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var s=l.value,d=!0,f=!1,y=void 0;try{for(var b,v=Array(n).keys()[Symbol.iterator]();!(d=(b=v.next()).done);d=!0){var E=b.value;N(E,s)&&r.push(g("edge",E,s,h))}}catch(p){f=!0,y=p}finally{try{d||null==v.return||v.return()}finally{if(f)throw y}}}}catch(p){o=!0,u=p}finally{try{a||null==i.return||i.return()}finally{if(o)throw u}}return r}(t.height,t.width);case R.COLOR_EDGE:return e.filter(function(e){return e.x!==t.x||e.y!==t.y}).concat(g("edge",t.x,t.y,t.color));default:return e}},D=Object(y.a)({},T,R,{INIT_BOARD:"board/INIT_BOARD"}),M=Object(y.a)({},j,_,{initializeBoard:function(e,t){return{type:D.INIT_BOARD,height:e,width:t}}}),B=Object(y.a)({},I,k,{boardElementsSelector:Object(w.a)(I.cellsSelector,k.edgesSelector,function(e,t){return e.concat(t)})}),W=Object(l.combineReducers)({cells:C,edges:P}),G={current:0,total:0},z={INITIALIZE_PLAYERS:"turn/INITIALIZE_PLAYERS",NEXT:"turn/NEXT"},H={initializePlayers:function(e){return{type:z.INITIALIZE_PLAYERS,payload:e}},nextTurn:function(){return{type:z.NEXT}}};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.INITIALIZE_PLAYERS:return Object(y.a)({},G,{total:t.payload});case z.NEXT:return Object(y.a)({},e,{current:(e.current+1)%e.total});default:return e}},Y=f.a.mark(U),Z=f.a.mark(ee),J=f.a.mark(te),$=Object(y.a)({},D,z,{START_MATCH:"match/START_MATCH",SET_WINNER:"match/SET_WINNER"}),q=Object(y.a)({},M,H,{setWinner:function(e){return{type:$.SET_WINNER,payload:e}},startMatch:function(e,t,r){return{type:$.START_MATCH,playerAmount:e,height:t,width:r}}}),F={cellsSelector:function(e){return B.cellsSelector(e.match.board)},edgesSelector:function(e){return B.edgesSelector(e.match.board)},boardElementsSelector:function(e){return B.boardElementsSelector(e.board)},winnerSelector:function(e){return e.match.winner},currentPlayerSelector:function(e){return e.turn.current},totalPlayersSelector:function(e){return e.turn.total}};var K=Object(l.combineReducers)({board:W,turn:X,winner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.INIT_BOARD:return S;case $.SET_WINNER:return t.payload;default:return e}}}),Q=Object(b.e)($.START_MATCH,U);function U(e){var t,r,n,c,a,o;return f.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.playerAmount,r=e.width,n=e.height,u.next=3,Object(b.b)(q.initializeBoard(n,r));case 3:return u.next=5,Object(b.b)(q.initializePlayers(t));case 5:return u.next=7,Object(b.c)(F.winnerSelector);case 7:if(u.t0=u.sent,u.t1=S,u.t0!==u.t1){u.next=23;break}return u.next=12,Object(b.d)($.EDGE_SELECTED);case 12:return c=u.sent,a=c.x,o=c.y,u.next=17,Object(b.b)(q.colorEdge(a,o,"black"));case 17:return u.next=19,ee({x:a,y:o});case 19:return u.next=21,te();case 21:u.next=5;break;case 23:return u.abrupt("return");case 24:case"end":return u.stop()}},Y)}function V(e,t){return t.filter(function(t){return e.some(function(e){return t.x===e.x&&t.y===e.y})})}function ee(e){var t,r,n,c,a,o,u,l,i,s,d,y,v,E,m;return f.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.x,r=e.y,f.next=3,Object(b.c)(F.cellsSelector);case 3:return n=f.sent,c=O(t,r),a=V(c,n),o=a.filter(function(e){return e.color===h}),f.next=9,Object(b.c)(F.edgesSelector);case 9:return u=f.sent,l=o.filter(function(e){var t=V(O(e.x,e.y),u);return t.filter(function(e){return e.color!==h}).length===t.length}),f.next=13,Object(b.c)(ne.currentPlayerSelector);case 13:i=f.sent,s=!0,d=!1,y=void 0,f.prev=17,v=l[Symbol.iterator]();case 19:if(s=(E=v.next()).done){f.next=26;break}return m=E.value,f.next=23,Object(b.b)(q.colorCell(m.x,m.y,p(i)));case 23:s=!0,f.next=19;break;case 26:f.next=32;break;case 28:f.prev=28,f.t0=f.catch(17),d=!0,y=f.t0;case 32:f.prev=32,f.prev=33,s||null==v.return||v.return();case 35:if(f.prev=35,!d){f.next=38;break}throw y;case 38:return f.finish(35);case 39:return f.finish(32);case 40:if(l.length){f.next=43;break}return f.next=43,Object(b.b)(q.nextTurn());case 43:return f.abrupt("return");case 44:case"end":return f.stop()}},Z,null,[[17,28,32,40],[33,,35,39]])}function te(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b.b,e.t1=q,e.t2=x,e.next=5,Object(b.c)(F.cellsSelector);case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.setWinner.call(e.t1,e.t4),e.next=10,(0,e.t0)(e.t5);case 10:case"end":return e.stop()}},J)}var re=Object(y.a)({},q),ne={currentPlayerSelector:function(e){return F.currentPlayerSelector(e.match)},totalPlayersSelector:function(e){return F.totalPlayersSelector(e.match)},boardElementsSelector:function(e){return F.boardElementsSelector(e.match)}},ce=f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)([Q]);case 2:case"end":return e.stop()}},e)}),ae=Object(l.combineReducers)({match:K}),oe=Object(s.a)(),ue=[oe],le=Object(l.createStore)(ae,Object(i.composeWithDevTools)(l.applyMiddleware.apply(void 0,ue)));oe.run(ce);var ie=le,se=r(10),de=r(11);function fe(){var e=Object(se.a)(["\n  width: 100%;\n  height: 100%;\n  border: 0.1rem dotted;\n"]);return fe=function(){return e},e}var ye=de.a.div.attrs(function(e){return{style:{gridColumnStart:e.column+1,gridRowStart:e.row+1,backgroundColor:e.color,borderColor:"cell"===e.type?"red":"gray"}}})(fe());function be(){var e=Object(se.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns:\n    repeat(",", 1fr 2fr)\n    1fr;\n  grid-template-rows:\n    repeat(",", 1fr 2fr)\n    1fr;\n  place-items: center center;\n"]);return be=function(){return e},e}var he=de.a.div(be(),function(e){var t=e.columns;return Math.floor(t/2)},function(e){var t=e.rows;return Math.floor(t/2)});var ve=Object(u.b)(function(e){return{cells:ne.boardElementsSelector(e)}},function(e){return{startMatch:function(){return e(re.startMatch.apply(re,arguments))},edgeSelected:function(){return e(re.edgeSelected.apply(re,arguments))}}})(function(e){var t=e.players,r=e.height,a=e.width,o=e.startMatch,u=e.cells,l=e.edgeSelected;return Object(n.useEffect)(function(){o(t,r,a)},[o,t,a,r]),c.a.createElement(he,{rows:2*r+1,columns:2*a+1},u.map(function(e){var t=e.type,r=e.x,n=e.y,a=e.color;return c.a.createElement(ye,{key:"".concat(r,"-").concat(n),color:a,onClick:"edge"===t&&a===h?function(){return l(r,n)}:void 0,type:t,column:r,row:n})}))});function Ee(){var e=Object(se.a)(["\n  width: 100%;\n  height: 100%;\n  transition: background-color 300ms cubic-bezier(0, 0.5, 0.5, 1);\n"]);return Ee=function(){return e},e}var pe=de.a.div.attrs(function(e){return{style:{backgroundColor:e.playerColor}}})(Ee()),me=Object(u.b)(function(e){return{playerColor:m(ne.currentPlayerSelector(e))}})(pe);function ge(){var e=Object(se.a)(["\n  grid-auto-flow: column;\n  display: grid;\n"]);return ge=function(){return e},e}var Oe=de.a.div(ge()),Se=Object(u.b)(function(e){return{currentPlayer:ne.currentPlayerSelector(e),totalPlayers:ne.totalPlayersSelector(e),cells:ne.boardElementsSelector(e)}})(function(e){var t=e.currentPlayer,r=e.totalPlayers,n=e.cells;return c.a.createElement(Oe,null,Array.from(Array(r).keys()).map(function(e){return c.a.createElement("div",{key:e,style:{border:e===t?"black 0.1rem dotted":"",backgroundColor:m(e)}},function(e,t){return t.filter(function(t){return t.color===p(e)}).length}(e,n))}))});var xe=function(e){return c.a.createElement("div",{style:{margin:"auto",width:"80vw",height:"80vh"}},c.a.createElement(me,null,c.a.createElement(Se,null),c.a.createElement(ve,{players:4,height:10,width:10})))};var we=function(){return c.a.createElement(xe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(u.a,{store:ie},c.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.4996d32a.chunk.js.map