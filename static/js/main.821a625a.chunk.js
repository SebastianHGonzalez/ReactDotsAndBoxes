(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(58)},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(17),c=n.n(o),l=n(15),i=n(10),u=n(34),s=n(41),d=n(11),f=n.n(d),b=n(5),v=n(8),y="transparent";function m(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}var h=[m.bind(void 0,255,0,0),m.bind(void 0,0,0,255),m.bind(void 0,0,255,0),m.bind(void 0,255,165,0),m.bind(void 0,128,0,128)];function p(e){return h[e%h.length](.9)}function g(e){return h[e%h.length](.1)}function E(e,t){return"".concat(e,"-").concat(t)}function O(e,t,n,r){return{get id(){return E(t,n)},type:e,x:t,y:n,color:r}}function w(e,t){return[{x:e,y:t+1},{x:e,y:t-1},{x:e+1,y:t},{x:e-1,y:t}]}var S=-1;function j(e){return S}var x=n(35),k=n(16),T={COLOR_CELL:"cells/COLOR_CELL"},A={colorCell:function(e,t,n){return{type:T.COLOR_CELL,payload:O("cell",e,t,n)}}},C={cellsSelector:function(e){return e.cells.cells},coloredSelector:function(e){return e.cells.colored}},I={cells:{},colored:{}};function R(e,t){var n={},r=!0,a=!1,o=void 0;try{for(var c,l=Array(e).keys()[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var i=c.value,u=!0,s=!1,d=void 0;try{for(var f,b=Array(t).keys()[Symbol.iterator]();!(u=(f=b.next()).done);u=!0){var v=O("cell",2*f.value+1,2*i+1,y);n[v.id]=v}}catch(m){s=!0,d=m}finally{try{u||null==b.return||b.return()}finally{if(s)throw d}}}}catch(m){a=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.INIT_BOARD:return Object(b.a)({},I,{cells:R(t.height,t.width)});case T.COLOR_CELL:return Object(b.a)({},e,{colored:Object(b.a)({},e.colored,Object(k.a)({},t.payload.color,(e.colored[t.payload.color]||[]).concat(t.payload.id))),cells:Object(b.a)({},e.cells,Object(k.a)({},t.payload.id,t.payload))});default:return e}},_={COLOR_EDGE:"edges/COLOR_EDGE",EDGE_SELECTED:"edges/EDGE_SELECTED"},D={colorEdge:function(e,t,n){return{type:_.COLOR_EDGE,payload:O("edge",e,t,n)}},edgeSelected:function(e,t){return{type:_.EDGE_SELECTED,x:e,y:t}}},N={edgesSelector:function(e){return e.edges}},P={};function W(e,t){return(e+t)%2}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.INIT_BOARD:return function(e,t){var n={},r=2*t+1,a=2*e+1,o=!0,c=!1,l=void 0;try{for(var i,u=Array(a).keys()[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var s=i.value,d=!0,f=!1,b=void 0;try{for(var v,m=Array(r).keys()[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var h=v.value;if(W(h,s)){var p=O("edge",h,s,y);n[p.id]=p}}}catch(g){f=!0,b=g}finally{try{d||null==m.return||m.return()}finally{if(f)throw b}}}}catch(g){c=!0,l=g}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}return n}(t.height,t.width);case _.COLOR_EDGE:return Object(b.a)({},e,Object(k.a)({},t.payload.id,t.payload));default:return e}},G=Object(b.a)({},T,_,{INIT_BOARD:"board/INIT_BOARD"}),M=Object(b.a)({},A,D,{initializeBoard:function(e,t){return{type:G.INIT_BOARD,height:e,width:t}}}),z=Object(b.a)({},C,N,{boardElementsSelector:Object(x.a)(C.cellsSelector,N.edgesSelector,C.coloredSelector,function(e,t,n){return{cells:e,edges:t,colored:n}})}),H=Object(i.combineReducers)({cells:L,edges:B}),X={current:0,total:0},Y={INITIALIZE_PLAYERS:"turn/INITIALIZE_PLAYERS",NEXT:"turn/NEXT"},Z={initializePlayers:function(e){return{type:Y.INITIALIZE_PLAYERS,payload:e}},nextTurn:function(){return{type:Y.NEXT}}};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.INITIALIZE_PLAYERS:return Object(b.a)({},X,{total:t.payload});case Y.NEXT:return Object(b.a)({},e,{current:(e.current+1)%e.total});default:return e}},U=f.a.mark(te),J=f.a.mark(re),V=f.a.mark(ae),$=Object(b.a)({},G,Y,{START_MATCH:"match/START_MATCH",SET_WINNER:"match/SET_WINNER"}),q=Object(b.a)({},M,Z,{setWinner:function(e){return{type:$.SET_WINNER,payload:e}},startMatch:function(e,t,n){return{type:$.START_MATCH,playerAmount:e,height:t,width:n}}}),K={cellsSelector:function(e){return z.cellsSelector(e.match.board)},edgesSelector:function(e){return z.edgesSelector(e.match.board)},boardElementsSelector:function(e){return z.boardElementsSelector(e.board)},winnerSelector:function(e){return e.match.winner},currentPlayerSelector:function(e){return e.turn.current},totalPlayersSelector:function(e){return e.turn.total}};var Q=Object(i.combineReducers)({board:H,turn:F,winner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.INIT_BOARD:return S;case $.SET_WINNER:return t.payload;default:return e}}}),ee=Object(v.e)($.START_MATCH,te);function te(e){var t,n,r,a,o,c;return f.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.playerAmount,n=e.width,r=e.height,l.next=3,Object(v.b)(q.initializeBoard(r,n));case 3:return l.next=5,Object(v.b)(q.initializePlayers(t));case 5:return l.next=7,Object(v.c)(K.winnerSelector);case 7:if(l.t0=l.sent,l.t1=S,l.t0!==l.t1){l.next=23;break}return l.next=12,Object(v.d)($.EDGE_SELECTED);case 12:return a=l.sent,o=a.x,c=a.y,l.next=17,Object(v.b)(q.colorEdge(o,c,"black"));case 17:return l.next=19,re({x:o,y:c});case 19:return l.next=21,ae();case 21:l.next=5;break;case 23:return l.abrupt("return");case 24:case"end":return l.stop()}},U)}function ne(e,t){return e.map(function(e){return E(e.x,e.y)}).map(function(e){return t[e]}).filter(function(e){return e})}function re(e){var t,n,r,a,o,c,l,i,u,s,d,b,m,h,g;return f.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.x,n=e.y,f.next=3,Object(v.c)(K.cellsSelector);case 3:return r=f.sent,a=w(t,n),o=ne(a,r),c=o.filter(function(e){return e.color===y}),f.next=9,Object(v.c)(K.edgesSelector);case 9:return l=f.sent,i=c.filter(function(e){var t=ne(w(e.x,e.y),l);return t.filter(function(e){return e.color!==y}).length===t.length}),f.next=13,Object(v.c)(ce.currentPlayerSelector);case 13:u=f.sent,s=!0,d=!1,b=void 0,f.prev=17,m=i[Symbol.iterator]();case 19:if(s=(h=m.next()).done){f.next=26;break}return g=h.value,f.next=23,Object(v.b)(q.colorCell(g.x,g.y,p(u)));case 23:s=!0,f.next=19;break;case 26:f.next=32;break;case 28:f.prev=28,f.t0=f.catch(17),d=!0,b=f.t0;case 32:f.prev=32,f.prev=33,s||null==m.return||m.return();case 35:if(f.prev=35,!d){f.next=38;break}throw b;case 38:return f.finish(35);case 39:return f.finish(32);case 40:if(i.length){f.next=43;break}return f.next=43,Object(v.b)(q.nextTurn());case 43:return f.abrupt("return");case 44:case"end":return f.stop()}},J,null,[[17,28,32,40],[33,,35,39]])}function ae(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v.b,e.t1=q,e.t2=j,e.next=5,Object(v.c)(K.cellsSelector);case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.setWinner.call(e.t1,e.t4),e.next=10,(0,e.t0)(e.t5);case 10:case"end":return e.stop()}},V)}var oe=Object(b.a)({},q),ce={currentPlayerSelector:function(e){return K.currentPlayerSelector(e.match)},totalPlayersSelector:function(e){return K.totalPlayersSelector(e.match)},boardElementsSelector:function(e){return K.boardElementsSelector(e.match)}},le=f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)([ee]);case 2:case"end":return e.stop()}},e)}),ie=Object(i.combineReducers)({match:Q}),ue=Object(s.a)(),se=[ue],de=Object(i.createStore)(ie,Object(u.composeWithDevTools)(i.applyMiddleware.apply(void 0,se)));ue.run(le);var fe=de,be=n(21),ve=n(6),ye=n(7);function me(){var e=Object(ve.a)(["\n  width: 100%;\n  height: 100%;\n  border: 0.001rem black solid;\n  transition: background-color 200ms cubic-bezier(0, 0.9, 0.7, 1);\n"]);return me=function(){return e},e}var he=ye.a.div.attrs(function(e){var t=e.column,n=e.row,r=e.color;e.type;return{style:{gridColumnStart:t+1,gridRowStart:n+1,backgroundColor:r}}})(me());function pe(){var e=Object(ve.a)(["\n  cursor: pointer;\n"]);return pe=function(){return e},e}var ge=Object(ye.a)(he)(pe());function Ee(){var e=Object(ve.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  gap: 0.2rem;\n  grid-template-columns:\n    repeat(",", 1fr 2fr)\n    1fr;\n  grid-template-rows:\n    repeat(",", 1fr 2fr)\n    1fr;\n  place-items: center center;\n"]);return Ee=function(){return e},e}var Oe=ye.a.div(Ee(),function(e){var t=e.columns;return Math.floor(t/2)},function(e){var t=e.rows;return Math.floor(t/2)});var we=Object(l.b)(function(e){return{boardElements:ce.boardElementsSelector(e)}},function(e){return{startMatch:function(){return e(oe.startMatch.apply(oe,arguments))},edgeSelected:function(){return e(oe.edgeSelected.apply(oe,arguments))}}})(function(e){var t=e.players,n=e.height,o=e.width,c=e.startMatch,l=e.boardElements,i=e.edgeSelected;Object(r.useEffect)(function(){c(t,n,o)},[c,t,o,n]);var u=Object.values(l.cells),s=Object.values(l.edges);return a.a.createElement(Oe,{rows:2*n+1,columns:2*o+1},u.map(function(e){var t=e.id,n=e.type,r=e.x,o=e.y,c=e.color;return a.a.createElement(he,{key:t,color:c,type:n,column:r,row:o})}),s.map(function(e){var t=e.id,n=e.type,r=e.x,o=e.y,c=e.color;return a.a.createElement(ge,{key:t,color:c,type:n,column:r,row:o,onClick:c===y?function(){return i(r,o)}:void 0})}))});function Se(){var e=Object(ve.a)(["\n  width: 100%;\n  height: 100%;\n  transition: background-color 300ms cubic-bezier(0, 0.5, 0.5, 1);\n  display: grid;\n  grid-template-rows: 2rem 1fr 2rem;\n  gap: 0.2rem;\n  "]);return Se=function(){return e},e}var je=ye.a.div.attrs(function(e){return{style:{backgroundColor:e.playerColor}}})(Se()),xe=Object(l.b)(function(e){return{playerColor:g(ce.currentPlayerSelector(e))}})(je);function ke(){var e=Object(ve.a)(["\n  grid-auto-flow: column;\n  display: grid;\n"]);return ke=function(){return e},e}var Te=ye.a.div.attrs(function(e){return{style:{transform:e.upsideDown&&"rotate(180deg)"}}})(ke()),Ae=Object(l.b)(function(e){return{currentPlayer:ce.currentPlayerSelector(e),totalPlayers:ce.totalPlayersSelector(e),coloredCells:ce.boardElementsSelector(e).colored}})(function(e){var t=e.currentPlayer,n=e.totalPlayers,r=e.coloredCells,o=e.upsideDown;return a.a.createElement(Te,{upsideDown:o},Array.from(Array(n).keys()).map(function(e){return a.a.createElement("div",{key:e,style:{border:e===t?"black 0.001rem solid":"",backgroundColor:g(e)}},function(e,t){return(t[p(e)]||[]).length}(e,r))}))}),Ce=n(20);function Ie(){var e=Object(ve.a)(["\n  margin: auto;\n"]);return Ie=function(){return e},e}function Re(){var e=Object(ve.a)(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n\n  > * {\n    flex: 1 1 auto;\n    flex-direction: row;\n  }\n"]);return Re=function(){return e},e}function Le(){var e=Object(ve.a)(["\n  padding: 1rem;\n"]);return Le=function(){return e},e}function _e(){var e=Object(ve.a)(['\n  border: 0;\n  border-bottom: 0.1rem var(--brand-accent) solid;\n  background-color: rgba(0, 0, 0, 0.02);\n  margin: 0.1rem;\n  cursor: unset;\n\n  &:hover:not([readonly]) {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n\n  &[type="submit"],\n  &[type="button"] {\n    cursor: pointer;\n  }\n\n  &[type="submit"] {\n    width: 100%;\n    margin: 1rem 0;\n    line-height: 400%;\n    font-size: xx-large !important;\n    color: var(--brand-primary-text);\n    background-color: var(--brand-primary);\n    border: var(--brand-primary-text) 10px 10px;\n\n    &:hover {\n      background-color: var(--brand-primary-light);\n    }\n  }\n']);return _e=function(){return e},e}var De=ye.a.input(_e()),Ne=ye.a.label(Le()),Pe=function(e){return a.a.createElement(De,Object.assign({type:"button"},e))},We=ye.a.div(Re()),Be=ye.a.span(Ie()),Ge={players:2,height:8,width:6},Me=function(e){var t=e.lowest,n=e.highest,r=e.label,o=e.field,c=o.name,l=o.value,i=o.onChange,u=l===t,s=l===n;return a.a.createElement(We,null,r&&a.a.createElement(Ne,{htmlFor:c},r),a.a.createElement(We,null,a.a.createElement(Pe,{onClick:function(){return i({target:{name:c,value:l-1}})},value:"-",disabled:u}),a.a.createElement(De,{type:"number",readOnly:!0,name:c,value:l}),a.a.createElement(Pe,{onClick:function(){return i({target:{name:c,value:l+1}})},value:"+",disabled:s})))},ze=function(e){var t=e.onGameStart;return a.a.createElement(Ce.c,{initialValues:Ge,onSubmit:function(e){return t(e)}},a.a.createElement(Ce.b,null,a.a.createElement(Ce.a,{name:"players",label:"Players",component:Me,lowest:1,highest:h.length}),a.a.createElement(Ce.a,{name:"height",label:"Board Height",component:Me,lowest:2,highest:12}),a.a.createElement(Ce.a,{name:"width",label:"Board Width",component:Me,lowest:2,highest:12}),a.a.createElement(Pe,{type:"submit",value:"Play"})))};function He(){var e=Object(ve.a)(["\n  width: 100%;\n  padding: 1rem 0;\n"]);return He=function(){return e},e}var Xe=1e4,Ye=["Swipe down to restart","github: SebastianHGonzalez"];var Ze=ye.a.div(He()),Fe=function(){var e=function(){var e=Object(r.useState)(0),t=Object(be.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)(function(){var e=setInterval(function(){a((n+1)%Ye.length)},Xe);return function(){return clearInterval(e)}}),[Ye[n]]}(),t=Object(be.a)(e,1)[0];return a.a.createElement(Ze,null,a.a.createElement(Be,null,t))};var Ue=function(){var e=Object(r.useState)(null),t=Object(be.a)(e,2),n=t[0],o=t[1];return n?a.a.createElement(r.Fragment,null,a.a.createElement(xe,null,a.a.createElement(Ae,null),a.a.createElement(we,Object.assign({},n,{onFinish:function(){return o(null)}})),a.a.createElement(Ae,{upsideDown:!0})),a.a.createElement(Fe,null)):a.a.createElement(ze,{onGameStart:o})};var Je=function(){return a.a.createElement(Ue,null)},Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(57);c.a.render(a.a.createElement(l.a,{store:fe},a.a.createElement(Je,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ReactDotsAndBoxes",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/ReactDotsAndBoxes","/service-worker.js");Ve?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$e(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):$e(t,e)})}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.821a625a.chunk.js.map