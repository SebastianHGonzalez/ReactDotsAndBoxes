(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,r){e.exports=r(58)},57:function(e,t,r){},58:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(17),o=r.n(c),l=r(15),u=r(8),i=r(33),s=r(41),d=r(11),f=r.n(d),b=r(5),y=r(6),m="transparent";function v(e,t,r,n){return"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(n,")")}var h=[v.bind(void 0,255,0,0),v.bind(void 0,0,0,255),v.bind(void 0,0,255,0),v.bind(void 0,255,165,0),v.bind(void 0,128,0,128)];function p(e){return h[e%h.length](.9)}function E(e){return h[e%h.length](.1)}function g(e,t){return"".concat(e,"-").concat(t)}function O(e,t,r,n){return{get id(){return g(t,r)},type:e,x:t,y:r,color:n}}function S(e,t){return[{x:e,y:t+1},{x:e,y:t-1},{x:e+1,y:t},{x:e-1,y:t}]}var w=-1;function x(e){return w}var j=r(34),k=r(16),T={COLOR_CELL:"cells/COLOR_CELL"},C={colorCell:function(e,t,r){return{type:T.COLOR_CELL,payload:O("cell",e,t,r)}}},I={cellsSelector:function(e){return e.cells.cells},coloredSelector:function(e){return e.cells.colored}},A={cells:{},colored:{}};function R(e,t){var r={},n=!0,a=!1,c=void 0;try{for(var o,l=Array(e).keys()[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var u=o.value,i=!0,s=!1,d=void 0;try{for(var f,b=Array(t).keys()[Symbol.iterator]();!(i=(f=b.next()).done);i=!0){var y=O("cell",2*f.value+1,2*u+1,m);r[y.id]=y}}catch(v){s=!0,d=v}finally{try{i||null==b.return||b.return()}finally{if(s)throw d}}}}catch(v){a=!0,c=v}finally{try{n||null==l.return||l.return()}finally{if(a)throw c}}return r}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.INIT_BOARD:return Object(b.a)({},A,{cells:R(t.height,t.width)});case T.COLOR_CELL:return Object(b.a)({},e,{colored:Object(b.a)({},e.colored,Object(k.a)({},t.payload.color,(e.colored[t.payload.color]||[]).concat(t.payload.id))),cells:Object(b.a)({},e.cells,Object(k.a)({},t.payload.id,t.payload))});default:return e}},L={COLOR_EDGE:"edges/COLOR_EDGE",EDGE_SELECTED:"edges/EDGE_SELECTED"},N={colorEdge:function(e,t,r){return{type:L.COLOR_EDGE,payload:O("edge",e,t,r)}},edgeSelected:function(e,t){return{type:L.EDGE_SELECTED,x:e,y:t}}},P={edgesSelector:function(e){return e.edges}},D={};function B(e,t){return(e+t)%2}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.INIT_BOARD:return function(e,t){var r={},n=2*t+1,a=2*e+1,c=!0,o=!1,l=void 0;try{for(var u,i=Array(a).keys()[Symbol.iterator]();!(c=(u=i.next()).done);c=!0){var s=u.value,d=!0,f=!1,b=void 0;try{for(var y,v=Array(n).keys()[Symbol.iterator]();!(d=(y=v.next()).done);d=!0){var h=y.value;if(B(h,s)){var p=O("edge",h,s,m);r[p.id]=p}}}catch(E){f=!0,b=E}finally{try{d||null==v.return||v.return()}finally{if(f)throw b}}}}catch(E){o=!0,l=E}finally{try{c||null==i.return||i.return()}finally{if(o)throw l}}return r}(t.height,t.width);case L.COLOR_EDGE:return Object(b.a)({},e,Object(k.a)({},t.payload.id,t.payload));default:return e}},G=Object(b.a)({},T,L,{INIT_BOARD:"board/INIT_BOARD"}),W=Object(b.a)({},C,N,{initializeBoard:function(e,t){return{type:G.INIT_BOARD,height:e,width:t}}}),z=Object(b.a)({},I,P,{boardElementsSelector:Object(j.a)(I.cellsSelector,P.edgesSelector,I.coloredSelector,function(e,t,r){return{cells:e,edges:t,colored:r}})}),H=Object(u.combineReducers)({cells:_,edges:M}),X={current:0,total:0},Y={INITIALIZE_PLAYERS:"turn/INITIALIZE_PLAYERS",NEXT:"turn/NEXT"},Z={initializePlayers:function(e){return{type:Y.INITIALIZE_PLAYERS,payload:e}},nextTurn:function(){return{type:Y.NEXT}}};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.INITIALIZE_PLAYERS:return Object(b.a)({},X,{total:t.payload});case Y.NEXT:return Object(b.a)({},e,{current:(e.current+1)%e.total});default:return e}},J=f.a.mark(te),V=f.a.mark(ne),$=f.a.mark(ae),q=Object(b.a)({},G,Y,{START_MATCH:"match/START_MATCH",SET_WINNER:"match/SET_WINNER"}),K=Object(b.a)({},W,Z,{setWinner:function(e){return{type:q.SET_WINNER,payload:e}},startMatch:function(e,t,r){return{type:q.START_MATCH,playerAmount:e,height:t,width:r}}}),Q={cellsSelector:function(e){return z.cellsSelector(e.match.board)},edgesSelector:function(e){return z.edgesSelector(e.match.board)},boardElementsSelector:function(e){return z.boardElementsSelector(e.board)},winnerSelector:function(e){return e.match.winner},currentPlayerSelector:function(e){return e.turn.current},totalPlayersSelector:function(e){return e.turn.total}};var U=Object(u.combineReducers)({board:H,turn:F,winner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.INIT_BOARD:return w;case q.SET_WINNER:return t.payload;default:return e}}}),ee=Object(y.e)(q.START_MATCH,te);function te(e){var t,r,n,a,c,o;return f.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.playerAmount,r=e.width,n=e.height,l.next=3,Object(y.b)(K.initializeBoard(n,r));case 3:return l.next=5,Object(y.b)(K.initializePlayers(t));case 5:return l.next=7,Object(y.c)(Q.winnerSelector);case 7:if(l.t0=l.sent,l.t1=w,l.t0!==l.t1){l.next=23;break}return l.next=12,Object(y.d)(q.EDGE_SELECTED);case 12:return a=l.sent,c=a.x,o=a.y,l.next=17,Object(y.b)(K.colorEdge(c,o,"black"));case 17:return l.next=19,ne({x:c,y:o});case 19:return l.next=21,ae();case 21:l.next=5;break;case 23:return l.abrupt("return");case 24:case"end":return l.stop()}},J)}function re(e,t){return e.map(function(e){return g(e.x,e.y)}).map(function(e){return t[e]}).filter(function(e){return e})}function ne(e){var t,r,n,a,c,o,l,u,i,s,d,b,v,h,E;return f.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.x,r=e.y,f.next=3,Object(y.c)(Q.cellsSelector);case 3:return n=f.sent,a=S(t,r),c=re(a,n),o=c.filter(function(e){return e.color===m}),f.next=9,Object(y.c)(Q.edgesSelector);case 9:return l=f.sent,u=o.filter(function(e){var t=re(S(e.x,e.y),l);return t.filter(function(e){return e.color!==m}).length===t.length}),f.next=13,Object(y.c)(oe.currentPlayerSelector);case 13:i=f.sent,s=!0,d=!1,b=void 0,f.prev=17,v=u[Symbol.iterator]();case 19:if(s=(h=v.next()).done){f.next=26;break}return E=h.value,f.next=23,Object(y.b)(K.colorCell(E.x,E.y,p(i)));case 23:s=!0,f.next=19;break;case 26:f.next=32;break;case 28:f.prev=28,f.t0=f.catch(17),d=!0,b=f.t0;case 32:f.prev=32,f.prev=33,s||null==v.return||v.return();case 35:if(f.prev=35,!d){f.next=38;break}throw b;case 38:return f.finish(35);case 39:return f.finish(32);case 40:if(u.length){f.next=43;break}return f.next=43,Object(y.b)(K.nextTurn());case 43:return f.abrupt("return");case 44:case"end":return f.stop()}},V,null,[[17,28,32,40],[33,,35,39]])}function ae(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y.b,e.t1=K,e.t2=x,e.next=5,Object(y.c)(Q.cellsSelector);case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.setWinner.call(e.t1,e.t4),e.next=10,(0,e.t0)(e.t5);case 10:case"end":return e.stop()}},$)}var ce=Object(b.a)({},K),oe={currentPlayerSelector:function(e){return Q.currentPlayerSelector(e.match)},totalPlayersSelector:function(e){return Q.totalPlayersSelector(e.match)},boardElementsSelector:function(e){return Q.boardElementsSelector(e.match)}},le=f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([ee]);case 2:case"end":return e.stop()}},e)}),ue=Object(u.combineReducers)({match:U}),ie=Object(s.a)(),se=[ie],de=Object(u.createStore)(ue,Object(i.composeWithDevTools)(u.applyMiddleware.apply(void 0,se)));ie.run(le);var fe=de,be=r(40),ye=r(9),me=r(10);function ve(){var e=Object(ye.a)(["\n  width: 100%;\n  height: 100%;\n  border: 0.001rem black solid;\n  transition: background-color 200ms cubic-bezier(0, 0.9, 0.7, 1);\n"]);return ve=function(){return e},e}var he=me.a.div.attrs(function(e){var t=e.column,r=e.row,n=e.color;e.type;return{style:{gridColumnStart:t+1,gridRowStart:r+1,backgroundColor:n}}})(ve());function pe(){var e=Object(ye.a)(["\n  cursor: pointer;\n"]);return pe=function(){return e},e}var Ee=Object(me.a)(he)(pe());function ge(){var e=Object(ye.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  gap: 0.2rem;\n  grid-template-columns:\n    repeat(",", 1fr 2fr)\n    1fr;\n  grid-template-rows:\n    repeat(",", 1fr 2fr)\n    1fr;\n  place-items: center center;\n"]);return ge=function(){return e},e}var Oe=me.a.div(ge(),function(e){var t=e.columns;return Math.floor(t/2)},function(e){var t=e.rows;return Math.floor(t/2)});var Se=Object(l.b)(function(e){return{boardElements:oe.boardElementsSelector(e)}},function(e){return{startMatch:function(){return e(ce.startMatch.apply(ce,arguments))},edgeSelected:function(){return e(ce.edgeSelected.apply(ce,arguments))}}})(function(e){var t=e.players,r=e.height,c=e.width,o=e.startMatch,l=e.boardElements,u=e.edgeSelected;Object(n.useEffect)(function(){o(t,r,c)},[o,t,c,r]);var i=Object.values(l.cells),s=Object.values(l.edges);return a.a.createElement(Oe,{rows:2*r+1,columns:2*c+1},i.map(function(e){var t=e.id,r=e.type,n=e.x,c=e.y,o=e.color;return a.a.createElement(he,{key:t,color:o,type:r,column:n,row:c})}),s.map(function(e){var t=e.id,r=e.type,n=e.x,c=e.y,o=e.color;return a.a.createElement(Ee,{key:t,color:o,type:r,column:n,row:c,onClick:o===m?function(){return u(n,c)}:void 0})}))});function we(){var e=Object(ye.a)(["\n  width: 100%;\n  height: 100%;\n  transition: background-color 300ms cubic-bezier(0, 0.5, 0.5, 1);\n  display: grid;\n  grid-template-rows: 2rem;\n  gap: 0.2rem;\n  "]);return we=function(){return e},e}var xe=me.a.div.attrs(function(e){return{style:{backgroundColor:e.playerColor}}})(we()),je=Object(l.b)(function(e){return{playerColor:E(oe.currentPlayerSelector(e))}})(xe);function ke(){var e=Object(ye.a)(["\n  grid-auto-flow: column;\n  display: grid;\n"]);return ke=function(){return e},e}var Te=me.a.div(ke()),Ce=Object(l.b)(function(e){return{currentPlayer:oe.currentPlayerSelector(e),totalPlayers:oe.totalPlayersSelector(e),coloredCells:oe.boardElementsSelector(e).colored}})(function(e){var t=e.currentPlayer,r=e.totalPlayers,n=e.coloredCells;return a.a.createElement(Te,null,Array.from(Array(r).keys()).map(function(e){return a.a.createElement("div",{key:e,style:{border:e===t?"black 0.001rem solid":"",backgroundColor:E(e)}},function(e,t){return(t[p(e)]||[]).length}(e,n))}))}),Ie=r(20);function Ae(){var e=Object(ye.a)(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n\n  > * {\n    flex: 1 1 auto;\n    flex-direction: row;\n  }\n"]);return Ae=function(){return e},e}function Re(){var e=Object(ye.a)(["\n  padding: 1rem;\n"]);return Re=function(){return e},e}function _e(){var e=Object(ye.a)(['\n  border: 0;\n  border-bottom: 0.1rem var(--brand-accent) solid;\n  background-color: rgba(0, 0, 0, 0.02);\n  margin: 0.1rem;\n  cursor: unset;\n\n  &:hover:not([readonly]) {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n\n  &[type="submit"],\n  &[type="button"] {\n    cursor: pointer;\n  }\n\n  &[type="submit"] {\n    width: 100%;\n    margin: 1rem 0;\n    line-height: 400%;\n    font-size: xx-large !important;\n    color: var(--brand-primary-text);\n    background-color: var(--brand-primary);\n    border: var(--brand-primary-text) 10px 10px;\n\n    &:hover {\n        background-color: var(--brand-primary-light);    \n    }\n  }\n']);return _e=function(){return e},e}var Le=me.a.input(_e()),Ne=me.a.label(Re()),Pe=function(e){return a.a.createElement(Le,Object.assign({type:"button"},e))},De=me.a.div(Ae()),Be=function(e){var t=e.lowest,r=e.highest,n=e.label,c=e.field,o=c.name,l=c.value,u=c.onChange,i=l===t,s=l===r;return a.a.createElement(De,null,n&&a.a.createElement(Ne,{htmlFor:o},n),a.a.createElement(De,null,a.a.createElement(Pe,{onClick:function(){return u({target:{name:o,value:l-1}})},value:"-",disabled:i}),a.a.createElement(Le,{type:"number",readOnly:!0,name:o,value:l}),a.a.createElement(Pe,{onClick:function(){return u({target:{name:o,value:l+1}})},value:"+",disabled:s})))},Me=function(e){var t=e.onGameStart;return a.a.createElement(Ie.c,{initialValues:{players:2,height:8,width:8},onSubmit:function(e){return t(e)}},a.a.createElement(Ie.b,null,a.a.createElement(Ie.a,{name:"players",label:"Players",component:Be,lowest:1,highest:h.length}),a.a.createElement(Ie.a,{name:"height",label:"Board Height",component:Be,lowest:2,highest:12}),a.a.createElement(Ie.a,{name:"width",label:"Board Width",component:Be,lowest:2,highest:12}),a.a.createElement(Pe,{type:"submit",value:"Play"})))};var Ge=function(){var e=Object(n.useState)(null),t=Object(be.a)(e,2),r=t[0],c=t[1];return r?a.a.createElement(je,null,a.a.createElement(Ce,null),a.a.createElement(Se,Object.assign({},r,{onFinish:function(){return c(null)}}))):a.a.createElement(Me,{onGameStart:c})};var We=function(){return a.a.createElement(Ge,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(57);o.a.render(a.a.createElement(l.a,{store:fe},a.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.7c03490e.chunk.js.map